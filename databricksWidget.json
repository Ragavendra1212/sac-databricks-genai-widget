{
  "id": "com.raghavendra.sap.databrickswidget",
  "version": "1.0.0",
  "name": "Databricks GENAI Widget",
  "description": "Databricks Custom Widget for SAP Analytics Cloud, using a Databricks serving endpoint.",
  "newInstancePrefix": "DatabricksWidget",
  "vendor": "Raghavendra Akula",
  "eula": "",
  "license": "Internal",
  "icon": "https://raw.githubusercontent.com/ragavendra1212/sac-databricks-genai-widget/main/icon.png",

  "webcomponents": [
    {
      "kind": "main",
      "tag": "com-raghavendra-sap-databrickswidget",
      "url": "https://cdn.jsdelivr.net/gh/ragavendra1212/sac-databricks-genai-widget@main/widget.js",
      "integrity": "",
      "ignoreIntegrity": true
    }
  ],

  "properties": {
    "endpointUrl": {
      "description": "Databricks serving endpoint URL",
      "type": "string",
      "default": "https://dbc-05d89f38-ae70.cloud.databricks.com/serving-endpoints/Raghav_GENAI_new_endpoint_v1/invocations"
    },
    "patToken": {
      "description": "Databricks PAT (for PoC only â€“ do NOT use in production)",
      "type": "string",
      "default": ""
    },
    "max_tokens": {
      "description": "Result max length / token limit (if used by your endpoint)",
      "type": "integer",
      "default": 1024
    },
    "systemPrompt": {
      "description": "Optional system prompt / instruction for the model",
      "type": "string",
      "default": ""
    }
  },

  "methods": {
    "setEndpointUrl": {
      "description": "Set Databricks serving endpoint URL",
      "parameters": [
        {
          "name": "endpointUrl",
          "type": "string",
          "description": "Databricks serving endpoint URL"
        }
      ],
      "body": "this.endpointUrl = endpointUrl;"
    },
    "getEndpointUrl": {
      "returnType": "string",
      "description": "Get Databricks serving endpoint URL",
      "body": "return this.endpointUrl;"
    },
    "setPatToken": {
      "description": "Set Databricks PAT token",
      "parameters": [
        {
          "name": "patToken",
          "type": "string",
          "description": "Databricks PAT token"
        }
      ],
      "body": "this.patToken = patToken;"
    },
    "getPatToken": {
      "returnType": "string",
      "description": "Get Databricks PAT token",
      "body": "return this.patToken;"
    },
    "setMax_tokens": {
      "description": "Set result max length",
      "parameters": [
        {
          "name": "max_tokens",
          "type": "integer",
          "description": "Result max length"
        }
      ],
      "body": "this.max_tokens = max_tokens;"
    },
    "getMax_tokens": {
      "returnType": "integer",
      "description": "Get result max length",
      "body": "return this.max_tokens;"
    }
  },

  "events": {
    "onClick": {
      "description": "User clicked the Invoke button."
    }
  }
}

{
  "id": "com.raghav.databricksWidget",
  "version": "1.0.0",
  "name": "Databricks Proxy Widget",
  "description": "Calls a Databricks serving endpoint through an HTTP proxy and shows the JSON response.",
  "vendor": "Raghavendra Akula",
  "supportsMobile": true,

  "webcomponents": [
    {
      "kind": "main",
      "tag": "raghav-dbx-widget",
      "url": "https://ragavendra1212.github.io/sac-databricks-widget/databricksWidget.js",
      "integrity": "",
      "ignoreIntegrity": true
    }
  ],

  "properties": {
    "title": {
      "type": "string",
      "default": "Databricks GEN AI",
      "description": "Title displayed at the top of the widget."
    },
    "proxyUrl": {
      "type": "string",
      "default": "https://your-https-proxy-host/invoke",
      "description": "HTTPS URL of the proxy that calls your Databricks endpoint."
    },
    "defaultPrompt": {
      "type": "string",
      "default": "Hello from SAP Analytics Cloud",
      "description": "Default prompt text to send to Databricks."
    },
    "autoCallOnLoad": {
      "type": "boolean",
      "default": false,
      "description": "If true, the widget will call the proxy automatically when it is loaded."
    }
  },

  "methods": {
    "refresh": {
      "description": "Triggers a call to the Databricks proxy using the current prompt.",
      "parameters": []
    },
    "setPrompt": {
      "description": "Sets the prompt text programmatically from SAC scripting.",
      "parameters": [
        {
          "name": "prompt",
          "type": "string",
          "description": "Prompt text."
        }
      ]
    }
  },

  "events": {
    "onResult": {
      "description": "Fired when a successful response is received from the proxy/Databricks.",
      "parameters": [
        {
          "name": "result",
          "type": "object",
          "description": "Parsed JSON response from the proxy/Databricks."
        }
      ]
    },
    "onError": {
      "description": "Fired when the call to the proxy/Databricks fails.",
      "parameters": [
        {
          "name": "message",
          "type": "string",
          "description": "Error message."
        }
      ]
    }
  },

  "dataBindings": {}
}
